(function(a){window.JCForm=JC.Form={disableButton:function(c,b){if(!c){return}c=a(c);b=b||1000;c.attr("disabled",true);setTimeout(function(){c.attr("disabled",false)},b)}};JC.AutoSelect&&(JC.Form.initAutoSelect=JC.AutoSelect)}(jQuery));(function(a){JC.Form.initCheckAll=function(d){d=a(d);var e=d.find("input[type=checkbox][checktype][checkfor]");e.each(function(){var f=a(this),g=f.attr("checktype").toLowerCase(),h=f.attr("checkfor");if(g!="all"||!h){return}c(f,h);if(!f.data("initedCheckall")){f.data("initedCheckall",true);a(document).delegate(h,"click",function(j){var i=a(this);if(b(i)){return}c(f,h)})}})};a(document).ready(function(d){JC.Form.initCheckAll(a(document))});a(document).delegate("input[type=checkbox][checktype][checkfor]","click",function(e){var d=a(this),f=d.attr("checktype").toLowerCase(),g=d.attr("checkfor");JC.log(f,g);switch(f){case"all":a(g).each(function(){var h=a(this);if(b(h)){return}if(h.is("[disabled]")){return}d.prop("checked")&&h.prop("checked",true);!d.prop("checked")&&h.prop("checked",false)});break;case"inverse":a(g).each(function(){var h=a(this);if(b(h)){return}if(h.is("[disabled]")){return}if(h.prop("checked")){h.prop("checked",false)}else{h.prop("checked",true)}});if(d.is("[checkall]")){c(d.attr("checkall"),g)}break}});function b(d){d=a(d);return d.is("[checktype]")&&d.is("[checkfor]")}function c(e,f){var d=true,e=a(e),f=a(f);f.each(function(){var g=a(this);if(b(g)){return}if(g.is("[checktype]")||g.is("[checkfor]")){return}if(!g.prop("checked")){return d=false}});JC.log("_isAll: ",d);e&&e.length&&e.prop("checked",d)}}(jQuery));(function(b){JC.Form.initAutoFill=function(d,e){if(!(d&&d.length)){d=b(document)}e=e||location.href;JC.log("JC.Form.initAutoFill");d.find("form.js_autoFillUrlForm").each(function(){var f=b(this);f.find("input[type=text][name],input[type=password][name],textarea[name]").each(function(){var g=b(this);if(has_url_param(e,g.attr("name"))){g.val(c(get_url_param(e,g.attr("name")).replace(/[\+]/g," ")))}});f.find("select[name]").each(function(){var g=b(this),h=c(get_url_param(e,g.attr("name")).replace(/[\+]/g," "));if(has_url_param(e,g.attr("name"))){if(a(g,h)){g.val(get_url_param(e,g.attr("name")))}else{g.attr("selectvalue",h)}}})})};b(document).ready(function(d){JC.Form.initAutoFill()});JC.Form.initAutoFill.decodeFunc;function c(e){try{e=(JC.Form.initAutoFill.decodeFunc||decodeURIComponent)(e)}catch(d){}return e}function a(d,f){var e=false,f=f.toString();d.find("option").each(function(){var g=b(this);if(g.val()==f){e=true;return false}});return e}}(jQuery));(function(a){JC.Form.initNumericStepper=function(c){c&&(c=a(c));c.delegate(".js_NStepperPlus, .js_NStepperMinus","click",function(h){var d=a(this),g=b.target(d);if(!(g&&g.length)){return}var f=parseInt(b.fixed(g),10)||0;var k=a.trim(g.val()),i=b.step(g);k=(f?parseFloat(k):parseInt(k,10))||0;var j=b.minvalue(g),e=b.maxvalue(g);d.hasClass("js_NStepperPlus")&&(k+=i);d.hasClass("js_NStepperMinus")&&(k-=i);k<j&&(k=j);k>e&&(k=e);JC.log(j,e,k,f,i);g.val(k.toFixed(f));b.callback(g)&&b.callback(g).call(g,d)})};JC.Form.initNumericStepper.onchange;var b={target:function(d){var c;if(d.attr("nstarget")){if(/^\~/.test(d.attr("nstarget"))){c=d.parent().find(d.attr("nstarget").replace(/^\~[\s]*/g,""));!(c&&c.length)&&(c=a(d.attr("nstarget")))}else{c=a(d.attr("nstarget"))}}return c},fixed:function(c){return c.attr("nsfixed")},step:function(c){return parseFloat(c.attr("nsstep"))||1},minvalue:function(c){return parseFloat(c.attr("nsminvalue")||c.attr("minvalue"))||0},maxvalue:function(c){return parseFloat(c.attr("nsmaxvalue")||c.attr("maxvalue"))||100},callback:function(c){var e=JC.Form.initNumericStepper.onchange,d;c.attr("nschangecallback")&&(d=window[c.attr("nschangecallback")])&&(e=d);return e}};a(document).ready(function(c){JC.Form.initNumericStepper(a(document))})}(jQuery));