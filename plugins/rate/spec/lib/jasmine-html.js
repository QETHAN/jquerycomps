jasmine.HtmlReporterHelpers={};jasmine.HtmlReporterHelpers.createDom=function(c,g,f){var b=document.createElement(c);for(var a=2;a<arguments.length;a++){var d=arguments[a];if(typeof d==="string"){b.appendChild(document.createTextNode(d))}else{if(d){b.appendChild(d)}}}for(var e in g){if(e=="className"){b[e]=g[e]}else{b.setAttribute(e,g[e])}}return b};jasmine.HtmlReporterHelpers.getSpecStatus=function(a){var c=a.results();var b=c.passed()?"passed":"failed";if(c.skipped){b="skipped"}return b};jasmine.HtmlReporterHelpers.appendToSummary=function(c,d){var b=this.dom.summary;var a=(typeof c.parentSuite=="undefined")?"suite":"parentSuite";var e=c[a];if(e){if(typeof this.views.suites[e.id]=="undefined"){this.views.suites[e.id]=new jasmine.HtmlReporter.SuiteView(e,this.dom,this.views)}b=this.views.suites[e.id].element}b.appendChild(d)};jasmine.HtmlReporterHelpers.addHelpers=function(b){for(var a in jasmine.HtmlReporterHelpers){b.prototype[a]=jasmine.HtmlReporterHelpers[a]}};jasmine.HtmlReporter=function(d){var e=this;var b=d||window.document;var g;var c={};e.logRunningSpecs=false;e.reportRunnerStarting=function(h){var i=h.specs()||[];if(i.length==0){return}a(h.env.versionString());b.body.appendChild(c.reporter);g=new jasmine.HtmlReporter.ReporterView(c);g.addSpecs(i,e.specFilter)};e.reportRunnerResults=function(h){g&&g.complete()};e.reportSuiteResults=function(h){g.suiteComplete(h)};e.reportSpecStarting=function(h){if(e.logRunningSpecs){e.log(">> Jasmine Running "+h.suite.description+" "+h.description+"...")}};e.reportSpecResults=function(h){g.specComplete(h)};e.log=function(){var h=jasmine.getGlobal().console;if(h&&h.log){if(h.log.apply){h.log.apply(h,arguments)}else{h.log(arguments)}}};e.specFilter=function(h){if(!f()){return true}return h.getFullName().indexOf(f())===0};return e;function f(){var i;(function h(){if(i){return}var k=[];var m=b.location.search.substring(1).split("&");for(var j=0;j<m.length;j++){var l=m[j].split("=");k[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}i=k.spec})();return i}function a(h){c.reporter=e.createDom("div",{id:"HTMLReporter",className:"jasmine_reporter"},c.banner=e.createDom("div",{className:"banner"},e.createDom("span",{className:"title"},"Jasmine "),e.createDom("span",{className:"version"},h)),c.symbolSummary=e.createDom("ul",{className:"symbolSummary"}),c.alert=e.createDom("div",{className:"alert"}),c.results=e.createDom("div",{className:"results"},c.summary=e.createDom("div",{className:"summary"}),c.details=e.createDom("div",{id:"details"})))}};jasmine.HtmlReporterHelpers.addHelpers(jasmine.HtmlReporter);jasmine.HtmlReporter.ReporterView=function(c){this.startedAt=new Date();this.runningSpecCount=0;this.completeSpecCount=0;this.passedCount=0;this.failedCount=0;this.skippedCount=0;this.createResultsMenu=function(){this.resultsMenu=this.createDom("span",{className:"resultsMenu bar"},this.summaryMenuItem=this.createDom("a",{className:"summaryMenuItem",href:"#"},"0 specs")," | ",this.detailsMenuItem=this.createDom("a",{className:"detailsMenuItem",href:"#"},"0 failing"));this.summaryMenuItem.onclick=function(){c.reporter.className=c.reporter.className.replace(/ showDetails/g,"")};this.detailsMenuItem.onclick=function(){b()}};this.addSpecs=function(g,f){this.totalSpecCount=g.length;this.views={specs:{},suites:{}};for(var i=0;i<g.length;i++){var h=g[i];this.views.specs[h.id]=new jasmine.HtmlReporter.SpecView(h,c,this.views);if(f(h)){this.runningSpecCount++}}};this.specComplete=function(f){this.completeSpecCount++;if(a(this.views.specs[f.id])){this.views.specs[f.id]=new jasmine.HtmlReporter.SpecView(f,c)}var g=this.views.specs[f.id];switch(g.status()){case"passed":this.passedCount++;break;case"failed":this.failedCount++;break;case"skipped":this.skippedCount++;break}g.refresh();this.refresh()};this.suiteComplete=function(g){var f=this.views.suites[g.id];if(a(f)){return}f.refresh()};this.refresh=function(){if(a(this.resultsMenu)){this.createResultsMenu()}if(a(this.runningAlert)){this.runningAlert=this.createDom("a",{href:"?",className:"runningAlert bar"});c.alert.appendChild(this.runningAlert)}this.runningAlert.innerHTML="Running "+this.completeSpecCount+" of "+d(this.totalSpecCount);if(a(this.skippedAlert)){this.skippedAlert=this.createDom("a",{href:"?",className:"skippedAlert bar"})}this.skippedAlert.innerHTML="Skipping "+this.skippedCount+" of "+d(this.totalSpecCount)+" - run all";if(this.skippedCount===1&&e(c.alert)){c.alert.appendChild(this.skippedAlert)}if(a(this.passedAlert)){this.passedAlert=this.createDom("span",{href:"?",className:"passingAlert bar"})}this.passedAlert.innerHTML="Passing "+d(this.passedCount);if(a(this.failedAlert)){this.failedAlert=this.createDom("span",{href:"?",className:"failingAlert bar"})}this.failedAlert.innerHTML="Failing "+d(this.failedCount);if(this.failedCount===1&&e(c.alert)){c.alert.appendChild(this.failedAlert);c.alert.appendChild(this.resultsMenu)}this.summaryMenuItem.innerHTML=""+d(this.runningSpecCount);this.detailsMenuItem.innerHTML=""+this.failedCount+" failing"};this.complete=function(){c.alert.removeChild(this.runningAlert);this.skippedAlert.innerHTML="Ran "+this.runningSpecCount+" of "+d(this.totalSpecCount)+" - run all";if(this.failedCount===0){c.alert.appendChild(this.createDom("span",{className:"passingAlert bar"},"Passing "+d(this.passedCount)))}else{b()}c.banner.appendChild(this.createDom("span",{className:"duration"},"finished in "+((new Date().getTime()-this.startedAt.getTime())/1000)+"s"))};return this;function b(){if(c.reporter.className.search(/showDetails/)===-1){c.reporter.className+=" showDetails"}}function a(f){return typeof f==="undefined"}function e(f){return !a(f)}function d(f){var g=f+" spec";if(f>1){g+="s"}return g}};jasmine.HtmlReporterHelpers.addHelpers(jasmine.HtmlReporter.ReporterView);jasmine.HtmlReporter.SpecView=function(c,a,b){this.spec=c;this.dom=a;this.views=b;this.symbol=this.createDom("li",{className:"pending"});this.dom.symbolSummary.appendChild(this.symbol);this.summary=this.createDom("div",{className:"specSummary"},this.createDom("a",{className:"description",href:"?spec="+encodeURIComponent(this.spec.getFullName()),title:this.spec.getFullName()},this.spec.description));this.detail=this.createDom("div",{className:"specDetail"},this.createDom("a",{className:"description",href:"?spec="+encodeURIComponent(this.spec.getFullName()),title:this.spec.getFullName()},this.spec.getFullName()))};jasmine.HtmlReporter.SpecView.prototype.status=function(){return this.getSpecStatus(this.spec)};jasmine.HtmlReporter.SpecView.prototype.refresh=function(){this.symbol.className=this.status();switch(this.status()){case"skipped":break;case"passed":this.appendSummaryToSuiteDiv();break;case"failed":this.appendSummaryToSuiteDiv();this.appendFailureDetail();break}};jasmine.HtmlReporter.SpecView.prototype.appendSummaryToSuiteDiv=function(){this.summary.className+=" "+this.status();this.appendToSummary(this.spec,this.summary)};jasmine.HtmlReporter.SpecView.prototype.appendFailureDetail=function(){this.detail.className+=" "+this.status();var b=this.spec.results().getItems();var a=this.createDom("div",{className:"messages"});for(var d=0;d<b.length;d++){var c=b[d];if(c.type=="log"){a.appendChild(this.createDom("div",{className:"resultMessage log"},c.toString()))}else{if(c.type=="expect"&&c.passed&&!c.passed()){a.appendChild(this.createDom("div",{className:"resultMessage fail"},c.message));if(c.trace.stack){a.appendChild(this.createDom("div",{className:"stackTrace"},c.trace.stack))}}}}if(a.childNodes.length>0){this.detail.appendChild(a);this.dom.details.appendChild(this.detail)}};jasmine.HtmlReporterHelpers.addHelpers(jasmine.HtmlReporter.SpecView);jasmine.HtmlReporter.SuiteView=function(c,a,b){this.suite=c;this.dom=a;this.views=b;this.element=this.createDom("div",{className:"suite"},this.createDom("a",{className:"description",href:"?spec="+encodeURIComponent(this.suite.getFullName())},this.suite.description));this.appendToSummary(this.suite,this.element)};jasmine.HtmlReporter.SuiteView.prototype.status=function(){return this.getSpecStatus(this.suite)};jasmine.HtmlReporter.SuiteView.prototype.refresh=function(){this.element.className+=" "+this.status()};jasmine.HtmlReporterHelpers.addHelpers(jasmine.HtmlReporter.SuiteView);jasmine.TrivialReporter=function(a){this.document=a||document;this.suiteDivs={};this.logRunningSpecs=false};jasmine.TrivialReporter.prototype.createDom=function(c,g,f){var b=document.createElement(c);for(var a=2;a<arguments.length;a++){var d=arguments[a];if(typeof d==="string"){b.appendChild(document.createTextNode(d))}else{if(d){b.appendChild(d)}}}for(var e in g){if(e=="className"){b[e]=g[e]}else{b.setAttribute(e,g[e])}}return b};jasmine.TrivialReporter.prototype.reportRunnerStarting=function(h){var c,e;this.outerDiv=this.createDom("div",{id:"TrivialReporter",className:"jasmine_reporter"},this.createDom("div",{className:"banner"},this.createDom("div",{className:"logo"},this.createDom("span",{className:"title"},"Jasmine"),this.createDom("span",{className:"version"},h.env.versionString())),this.createDom("div",{className:"options"},"Show ",c=this.createDom("input",{id:"__jasmine_TrivialReporter_showPassed__",type:"checkbox"}),this.createDom("label",{"for":"__jasmine_TrivialReporter_showPassed__"}," passed "),e=this.createDom("input",{id:"__jasmine_TrivialReporter_showSkipped__",type:"checkbox"}),this.createDom("label",{"for":"__jasmine_TrivialReporter_showSkipped__"}," skipped"))),this.runnerDiv=this.createDom("div",{className:"runner running"},this.createDom("a",{className:"run_spec",href:"?"},"run all"),this.runnerMessageSpan=this.createDom("span",{},"Running..."),this.finishedAtSpan=this.createDom("span",{className:"finished-at"},"")));this.document.body.appendChild(this.outerDiv);var f=h.suites();for(var b=0;b<f.length;b++){var d=f[b];var g=this.createDom("div",{className:"suite"},this.createDom("a",{className:"run_spec",href:"?spec="+encodeURIComponent(d.getFullName())},"run"),this.createDom("a",{className:"description",href:"?spec="+encodeURIComponent(d.getFullName())},d.description));this.suiteDivs[d.id]=g;var a=this.outerDiv;if(d.parentSuite){a=this.suiteDivs[d.parentSuite.id]}a.appendChild(g)}this.startedAt=new Date();var j=this;c.onclick=function(i){if(c.checked){j.outerDiv.className+=" show-passed"}else{j.outerDiv.className=j.outerDiv.className.replace(/ show-passed/,"")}};e.onclick=function(i){if(e.checked){j.outerDiv.className+=" show-skipped"}else{j.outerDiv.className=j.outerDiv.className.replace(/ show-skipped/,"")}}};jasmine.TrivialReporter.prototype.reportRunnerResults=function(c){var g=c.results();var a=(g.failedCount>0)?"runner failed":"runner passed";this.runnerDiv.setAttribute("class",a);this.runnerDiv.setAttribute("className",a);var d=c.specs();var e=0;for(var f=0;f<d.length;f++){if(this.specFilter(d[f])){e++}}var b=""+e+" spec"+(e==1?"":"s")+", "+g.failedCount+" failure"+((g.failedCount==1)?"":"s");b+=" in "+((new Date().getTime()-this.startedAt.getTime())/1000)+"s";this.runnerMessageSpan.replaceChild(this.createDom("a",{className:"description",href:"?"},b),this.runnerMessageSpan.firstChild);this.finishedAtSpan.appendChild(document.createTextNode("Finished at "+new Date().toString()))};jasmine.TrivialReporter.prototype.reportSuiteResults=function(a){var c=a.results();var b=c.passed()?"passed":"failed";if(c.totalCount===0){b="skipped"}this.suiteDivs[a.id].className+=" "+b};jasmine.TrivialReporter.prototype.reportSpecStarting=function(a){if(this.logRunningSpecs){this.log(">> Jasmine Running "+a.suite.description+" "+a.description+"...")}};jasmine.TrivialReporter.prototype.reportSpecResults=function(f){var b=f.results();var e=b.passed()?"passed":"failed";if(b.skipped){e="skipped"}var g=this.createDom("div",{className:"spec "+e},this.createDom("a",{className:"run_spec",href:"?spec="+encodeURIComponent(f.getFullName())},"run"),this.createDom("a",{className:"description",href:"?spec="+encodeURIComponent(f.getFullName()),title:f.getFullName()},f.description));var c=b.getItems();var a=this.createDom("div",{className:"messages"});for(var h=0;h<c.length;h++){var d=c[h];if(d.type=="log"){a.appendChild(this.createDom("div",{className:"resultMessage log"},d.toString()))}else{if(d.type=="expect"&&d.passed&&!d.passed()){a.appendChild(this.createDom("div",{className:"resultMessage fail"},d.message));if(d.trace.stack){a.appendChild(this.createDom("div",{className:"stackTrace"},d.trace.stack))}}}}if(a.childNodes.length>0){g.appendChild(a)}this.suiteDivs[f.suite.id].appendChild(g)};jasmine.TrivialReporter.prototype.log=function(){var a=jasmine.getGlobal().console;if(a&&a.log){if(a.log.apply){a.log.apply(a,arguments)}else{a.log(arguments)}}};jasmine.TrivialReporter.prototype.getLocation=function(){return this.document.location};jasmine.TrivialReporter.prototype.specFilter=function(d){var a={};var c=this.getLocation().search.substring(1).split("&");for(var e=0;e<c.length;e++){var b=c[e].split("=");a[decodeURIComponent(b[0])]=decodeURIComponent(b[1])}if(!a.spec){return true}return d.getFullName().indexOf(a.spec)===0};